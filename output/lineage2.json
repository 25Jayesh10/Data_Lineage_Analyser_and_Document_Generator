{
  "dbo.AuditLog": {
    "called_by": [
      "dbo.usp_LogEvent"
    ],
    "columns": [
      {
        "caller": "dbo.usp_LogEvent",
        "caller_type": "procedure",
        "name": "EventMessage",
        "usage": "write"
      },
      {
        "caller": "dbo.usp_LogEvent",
        "caller_type": "procedure",
        "name": "EventType",
        "usage": "write"
      }
    ],
    "type": "table"
  },
  "dbo.INSERTED": {
    "called_by": [
      "dbo.trg_AfterInsertOrder"
    ],
    "columns": [
      {
        "caller": "dbo.trg_AfterInsertOrder",
        "caller_type": "trigger",
        "name": "Amount",
        "usage": "read"
      },
      {
        "caller": "dbo.trg_AfterInsertOrder",
        "caller_type": "trigger",
        "name": "OrderID",
        "usage": "read"
      }
    ],
    "type": "table"
  },
  "dbo.Orders": {
    "called_by": [
      "dbo.fn_GetOrderTotalWithAudit",
      "dbo.usp_UpdateOrderStatus"
    ],
    "columns": [
      {
        "caller": "dbo.fn_GetOrderTotalWithAudit",
        "caller_type": "function",
        "name": "Amount",
        "usage": "read"
      },
      {
        "caller": "dbo.fn_GetOrderTotalWithAudit",
        "caller_type": "function",
        "name": "OrderID",
        "usage": "read"
      },
      {
        "caller": "dbo.usp_UpdateOrderStatus",
        "caller_type": "procedure",
        "name": "OrderID",
        "usage": "read"
      },
      {
        "caller": "dbo.usp_UpdateOrderStatus",
        "caller_type": "procedure",
        "name": "Status",
        "usage": "write"
      },
      {
        "caller": "dbo.usp_UpdateOrderStatus",
        "caller_type": "procedure",
        "name": "newStatus",
        "usage": "read"
      },
      {
        "caller": "dbo.fn_GetOrderTotalWithAudit",
        "caller_type": "function",
        "name": "orderId",
        "usage": "read"
      },
      {
        "caller": "dbo.usp_UpdateOrderStatus",
        "caller_type": "procedure",
        "name": "orderId",
        "usage": "read"
      }
    ],
    "type": "table"
  },
  "dbo.fn_GetOrderTotalWithAudit": {
    "called_by_function": [],
    "called_by_procedure": [],
    "called_by_trigger": [],
    "calls": [
      "dbo.usp_LogEvent"
    ],
    "type": "function"
  },
  "dbo.fn_GetOrderWithTax": {
    "called_by_function": [],
    "called_by_procedure": [],
    "called_by_trigger": [],
    "calls": [],
    "type": "function"
  },
  "dbo.trg_AfterInsertOrder": {
    "calls": [
      "dbo.usp_LogEvent"
    ],
    "event": "AFTER INSERT",
    "on_table": "dbo.Orders",
    "type": "trigger"
  },
  "dbo.usp_CloseOrder": {
    "called_by_function": [],
    "called_by_procedure": [],
    "called_by_trigger": [],
    "calls": [
      "dbo.usp_UpdateOrderStatus"
    ],
    "type": "procedure"
  },
  "dbo.usp_LogEvent": {
    "called_by_function": [
      "dbo.fn_GetOrderTotalWithAudit"
    ],
    "called_by_procedure": [
      "dbo.usp_UpdateOrderStatus"
    ],
    "called_by_trigger": [
      "dbo.trg_AfterInsertOrder"
    ],
    "calls": [],
    "type": "procedure"
  },
  "dbo.usp_UpdateOrderStatus": {
    "called_by_function": [],
    "called_by_procedure": [
      "dbo.usp_CloseOrder"
    ],
    "called_by_trigger": [],
    "calls": [
      "dbo.usp_LogEvent"
    ],
    "type": "procedure"
  }
}