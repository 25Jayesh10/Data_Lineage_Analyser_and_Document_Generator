{
  "AuditLog": {
    "called_by": [
      "usp_LogEvent"
    ],
    "columns": [
      {
        "caller": "usp_LogEvent",
        "caller_type": "procedure",
        "name": "EventMessage",
        "usage": "write"
      },
      {
        "caller": "usp_LogEvent",
        "caller_type": "procedure",
        "name": "EventType",
        "usage": "write"
      }
    ],
    "type": "table"
  },
  "INSERTED": {
    "called_by": [
      "trg_AfterInsertOrder"
    ],
    "columns": [
      {
        "caller": "trg_AfterInsertOrder",
        "caller_type": "trigger",
        "name": "Amount",
        "usage": "read"
      },
      {
        "caller": "trg_AfterInsertOrder",
        "caller_type": "trigger",
        "name": "OrderID",
        "usage": "read"
      }
    ],
    "type": "table"
  },
  "Orders": {
    "called_by": [
      "fn_GetOrderTotalWithAudit",
      "trg_AfterInsertOrder",
      "usp_UpdateOrderStatus"
    ],
    "columns": [
      {
        "caller": "fn_GetOrderTotalWithAudit",
        "caller_type": "function",
        "name": "Amount",
        "usage": "read"
      },
      {
        "caller": "usp_UpdateOrderStatus",
        "caller_type": "procedure",
        "name": "Status",
        "usage": "write"
      }
    ],
    "type": "table"
  },
  "fn_GetOrderTotalWithAudit": {
    "called_by_function": [
      "fn_GetOrderWithTax"
    ],
    "called_by_procedure": [],
    "called_by_trigger": [],
    "calls": [
      "usp_LogEvent"
    ],
    "type": "function"
  },
  "fn_GetOrderWithTax": {
    "called_by_function": [],
    "called_by_procedure": [],
    "called_by_trigger": [
      "trg_AfterInsertOrder"
    ],
    "calls": [
      "fn_GetOrderTotalWithAudit"
    ],
    "type": "function"
  },
  "trg_AfterInsertOrder": {
    "calls": [
      "fn_GetOrderWithTax",
      "usp_LogEvent"
    ],
    "event": "AFTER INSERT",
    "on_table": "Orders",
    "type": "trigger"
  },
  "usp_CloseOrder": {
    "called_by_function": [],
    "called_by_procedure": [],
    "called_by_trigger": [],
    "calls": [
      "usp_UpdateOrderStatus"
    ],
    "type": "procedure"
  },
  "usp_LogEvent": {
    "called_by_function": [
      "fn_GetOrderTotalWithAudit"
    ],
    "called_by_procedure": [
      "usp_UpdateOrderStatus"
    ],
    "called_by_trigger": [
      "trg_AfterInsertOrder"
    ],
    "calls": [],
    "type": "procedure"
  },
  "usp_UpdateOrderStatus": {
    "called_by_function": [],
    "called_by_procedure": [
      "usp_CloseOrder"
    ],
    "called_by_trigger": [],
    "calls": [
      "usp_LogEvent"
    ],
    "type": "procedure"
  }
}